import os
from PIL import Image, ImageChops
def compressLoop(infile, times):
    n = 1
    baseName, e = os.path.splitext(infile)
	#this loop will compress the file n amount of times 
    while n <= times:
        f, e = os.path.splitext(infile)
        new_file = (baseName + str(n))
        outfile = new_file + ".jpg"
        #open previously generated file
        compress_image = Image.open(infile)
        #compress file at 50% of previous quality
        compress_image.save(outfile, "JPEG", quality=50)	
        n=n+1
def main():
    infile = str(input("Filename to compress: "))
    times = int(input("Times to process: "))
    compressLoop(infile, times)
    ela_im = ImageChops.difference(input, output)
    ela_im.save("ela.png")
    #Brandon you can try to get the difference to work.
main()
